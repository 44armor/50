<!doctype html>
<html lang="zh-TW">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>陸軍官校四十四期裝甲兵畢業50週年紀念 - 封面</title>
	<link rel='stylesheet' href='style.css' media='all' />
	<link rel='preconnect' href='https://fonts.gstatic.com/' crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VN1DL9SK23"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-VN1DL9SK23');
</script>
</head>
<body>

	<div class="sidebar-overlay" id="sidebarOverlay"></div>

	<header class="site-header">
		<div class="container header-content" style="position:relative;">
			<h1 class="site-title" style="text-align:center;width:100%;margin:0 auto;">
				<a href="index.html" style="display:inline-block;">陸軍軍官學校四十四期裝甲兵畢業五十周年紀念冊</a>
			</h1>
			<span id="visit-count-header" style="position:absolute;top:0;right:0;color:#888;font-size:0.95em;padding:8px 18px;"></span>
			<button class="menu-toggle" aria-label="選單切換">☰</button>
		</div>
	</header>

	<main class="site-main container">
		<aside class="site-sidebar">
			<nav class="sidebar-navigation">
				<a href="index.html" class="active">封面</a>
				<a href="inner-cover.html">封面內頁</a>
				<a href="preface.html">序言</a>
				<a href="greetings.html">賀詞</a>
				<a href="catalog.html">目錄</a>
				<a href="memories.html">述懷</a>
				<a href="biography.html">生平記要</a>
				<a href="photo-album.html">紀念圖冊</a>
				<a href="postscript.html">編輯後記</a>
				<a href="copyright.html">版權頁</a>
				<a href="back-inner-cover.html">封底內頁</a>
				<a href="back-cover.html">封底</a>
				<a href="guestbook.html">留言板</a>
			</nav>
		</aside>

		<section class="main-content">
			<img src="content/B01-封面.jpg" alt="陸軍官校四十四期裝甲兵畢業50週年紀念封面" />
		</section>
	</main>


<footer class="site-footer">
	<div class="container">
		<p>版權開放，歡迎使用</p>
		<p id="visit-count" style="margin-top:8px;color:#888;font-size:0.95em;"></p>
	</div>
</footer>

	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const menuToggle = document.querySelector('.menu-toggle');
			const sidebarNavigation = document.querySelector('.sidebar-navigation');
			const sidebar = document.querySelector('.site-sidebar');
			const overlay = document.getElementById('sidebarOverlay');

			function closeSidebar() {
				sidebar.classList.remove('is-open');
				overlay.classList.remove('active');
				menuToggle.setAttribute('aria-expanded', 'false');
			}

			if (menuToggle && sidebarNavigation && sidebar && overlay) {
				menuToggle.addEventListener('click', function(e) {
					e.stopPropagation();
					sidebar.classList.toggle('is-open');
					overlay.classList.toggle('active', sidebar.classList.contains('is-open'));
					this.setAttribute('aria-expanded', sidebar.classList.contains('is-open'));
				});

				overlay.addEventListener('click', closeSidebar);

				sidebarNavigation.addEventListener('click', function(e) {
					if (e.target.tagName === 'A') {
						closeSidebar();
					}
				});
			}

			// SheetDB 訪問計數器
			const SHEETDB_API_URL = 'https://sheetdb.io/api/v1/7w5r8owgrglqq'; // 請替換為你的 SheetDB API
			const PAGE_ID = 'index.html';
			const visitCountEl = document.getElementById('visit-count');
			const visitCountHeaderEl = document.getElementById('visit-count-header');

			// 讀取並更新計數
			function updateVisitCount() {
				// 先讀取目前計數
				fetch(`${SHEETDB_API_URL}/search?page_id=${PAGE_ID}`)
					.then(res => res.json())
					.then(data => {
						let count = 0;
						if (data.length > 0) {
							count = parseInt(data[0].count) || 0;
						}
						// 增加1
						count++;
						// 更新 SheetDB
						fetch(`${SHEETDB_API_URL}/id/${data[0] ? data[0].id : ''}`, {
							method: data[0] ? 'PATCH' : 'POST',
							headers: { 'Content-Type': 'application/json' },
							body: JSON.stringify({
								data: data[0] ? { count: count } : { page_id: PAGE_ID, count: count }
							})
						})
						.then(() => {
							setHeaderVisitCount(`本頁累計拜訪人數：${count}`);
							if (visitCountEl) visitCountEl.textContent = `本頁累計拜訪人數：${count}`;
						});
					})
					.catch(() => {
						setHeaderVisitCount('本頁累計拜訪人數：無法取得');
						if (visitCountEl) visitCountEl.textContent = '本頁累計拜訪人數：無法取得';
					});
			}

			function setHeaderVisitCount(text) {
				var el = document.getElementById('visit-count-header');
				if (el) el.textContent = text;
			}

			updateVisitCount();
		});
	</script>

</body>
</html>
